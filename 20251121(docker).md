


## 가상화 서비스

가상화 서비스는 하나의 물리적인 기기에 장착된 처리장치(CPU),메모리,디스크 같은 자원들을 여러 개의 가상 자원으로 구분하여 사용하거나 여러 개의 물리적 자원을 논리적으로 통합하여 하나의 가상 시스템으로 제공하는 서비스를 말한다

* 가상머신:하나의 물리적인 서버에서 가상머신을 생성하여 여러 개의 가상 서버를 운영하는 기술이다.
* 컨테이너 가상화 : 특정 응용 프로그램과 실행 환경을 패키지화하고 이를 가상화하여 제공하는 서비스이다 [대표적으로 도커와 쿠버네티스가 있다]
* 네트워크 가상화: 물리적인 네트워크 위 가상의 네트워크를 구성하여 제공하는 서비스다. 대표적으로 VPN(가상 사설망)이 있다
* 스토리지 가상화: 다양한 스토리지 장치를 하나의 가상 스토리지로 통합하여 제공하는 서비스다. LVM도 스토리지 가상화 서비스중 하나로 볼수있다



### 가상머신 구현하기

#### 가상머신 서비스를 구현하기 위해서는 가상화 소프트웨어가 필요한데, 대표적으로 가상화소프트웨어로 하이퍼바이저가 있다.


컨테이너 가상화 → 도커, 쿠버네티스<br/>

컨테이너 생성 시 미리 포장된 결과물이 필요<br/>
→ 이미지(설치 시의 iso 파일과 비슷)<br/>

### 가상머신 실습

<img width="1045" height="502" alt="image" src="https://github.com/user-attachments/assets/488a9b03-b1b8-4127-9ddf-f2e348fbf8bc" />

<img width="343" height="59" alt="image" src="https://github.com/user-attachments/assets/a510af6a-3c04-4f57-ac5b-b73ababfd482" />

dnf install -y qemu-kvm libvirt virt-manager virt-install<br/>
dnf install -y epel-release<br/>
dnf install -y bridge-utils virt-top libguestfs-tools virt-viewer<br/>

systemctl start libvirtd<br/>
systemctl status libvirtd<br/>

nmcli con add type bridge autoconnect yes con-name br0 ifname br0<br/>
ip a 로 확인<br/>

nmcli con modify br0 ipv4.addresses 192.168.111.200/24 ipv4.method manual ipv4.gateway192.168.111.2 ipv4.dns 8.8.8.8<br/>
nmcli con delete ens33<br/>
nmcli con add type bridge-slave autoconnenct yes con-name ens33 ifname ens33 master br0<br/>

nmcli con show<br/>
nmcli con up br0<br/>

vi /etc/qemu-kvm/bridge.conf

>allow virbr0을 allow all로 바꾸기

systemctl restart libvirtd<br/>

*virt-manager를 활성화하기 위한 저장소 추가<br/>
dnf config-manager --set-enabled crb<br/>
dnf makecache<br/>

책 718p

192.168.122.1/9090

dnf -y install cockpit-machines<br/>

systemctl restart cockpit<br/>
systemctl restart libvirtd<br/>

systemctl restart virtqemud.socket<br/>
systemctl restart virtnetworkd.socket<br/>
systemctl restart virtstoraged.socket<br/>

firewall-cmd --add-port=9090/tcp<br/>

책 722p


### 컨테이너 가상화 실습

dnf install -y docker (9버전 이하만 가능)<br/>

systemctl start podman<br/>
systemctl status podman<br/>

docker run hello-world<br/>
docker run -it ubuntu bash<br/>
















































































































































































