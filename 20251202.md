## Vagrant




Vagrantfile에 

> .# -*- mode: ruby -*-<br/>
> .# vi: set ft=ruby :<br/>
> Vagrant.configure("2") do |config| <br/>
>  config.vm.define "con-a" do |cfg|<br/>
>    cfg.vm.box = "almalinux/8"<br/>
>    cfg.vm.box_version = "8.10.20251006"<br/>
>    cfg.vm.provider "virtualbox" do |vb|<br/>
>      vb.name = "con-a"<br/>
>      vb.cpus = 2<br/>
>      vb.memory = 2048<br/>
>      vb.customize ["modifyvm", :id, "--groups", "/containers"]<br/>
>    end<br/>
>    cfg.vm.host_name = "con-a"<br/>
>    cfg.vm.network "private_network", ip: "192.168.1.101"<br/>
>    cfg.vm.network "forwarded_port", guest: 22, host: 50001, auto_correct: true, id: "ssh"<br/>
>  end<br/>
> end
로 교체

<img width="542" height="513" alt="image" src="https://github.com/user-attachments/assets/8e1cd7aa-fcc8-4b37-ae6c-fddd966947d4" />

#### windows powershell

vagrant box list<br/>
베이그런트 박스 리스트 확인<br/>

vagrant up

#### moba x
설치 완료되면 moba x에서 192.168.1.101으로 ssh 접속<br/>
id: vagrant<br/>
passwd: vagrant<br/>


<img width="832" height="341" alt="image" src="https://github.com/user-attachments/assets/2460955c-e979-45d3-ad02-34614051ca20" />


10.0.2.15 <- nat<br/>
ping 8.8.8.8으로 연결 잘 되었는지 확인<br/>

#### 다시 vagrantfile로 돌아와서

<img width="718" height="132" alt="image" src="https://github.com/user-attachments/assets/45a4759a-2f2f-4495-bab0-7efca03ac2b6" />

한줄 추가<br/>

윈도우 vagrant 폴더에서 install.sh 파일 생성<br/>

(visual studio code로 드래그)

>#!/bin/bash<br/>
>dnf install -y epel-release<br/>
>dnf install -y ansible<br/>

#### windows powershell

vagrant provision(vagrant provision만 실행)<br/>

### 삭제 하는법

#### windows powershell

vagrant destroy -f

### 여려대의 VM 만들기

con-a -> ansible server(ansible 설치) <br/>
con-b, con-c, con-d -> ansible node(ssh 작동) <br/>

.# -*- mode: ruby -*-<br/>
.# vi: set ft=ruby :<br/>
<br/>
Vagrant.configure("2") do |config| <br/>
  config.vm.define "con-1" do |cfg|<br/>
    cfg.vm.box = "almalinux/8"<br/>
    cfg.vm.box_version = "8.10.20251006"<br/>
    cfg.vm.provider "virtualbox" do |vb|<br/>
      vb.name = "con-1"<br/>
      vb.cpus = 2<br/>
      vb.memory = 2048<br/>
      vb.customize ["modifyvm", :id, "--groups", "/containers"]<br/>
    end<br/>
    cfg.vm.host_name = "con-1"<br/>
    cfg.vm.network "private_network", ip: "192.168.1.101"<br/>
    cfg.vm.network "forwarded_port", guest: 22, host: 50001, auto_correct: true, id: "ssh"<br/>
    cfg.vm.provision "shell", path: "install.sh"<br/>
  end<br/>
  <br/>
  (2..4).each do |i|<br/>
    config.vm.define "con-#{i}" do |cfg|<br/>
    cfg.vm.box = "almalinux/8"<br/>
    cfg.vm.box_version = "8.10.20251006"<br/>
      cfg.vm.provider "virtualbox" do |vb|<br/>
        vb.name = "con-#{i}"<br/>
        vb.cpus = 2<br/>
        vb.memory = 2048<br/>
        vb.customize ["modifyvm", :id, "--groups", "/containers"]<br/>
      end<br/>
      cfg.vm.host_name = "con-#{i}"<br/>
      cfg.vm.network "private_network", ip: "192.168.1.10#{i}"<br/>
      cfg.vm.network "forwarded_port", guest: 22, host: "5000#{i}",auto_correct: true, id: "ssh"<br/>
    end<br/>
  end<br/>
end<br/>
<br/>

#### windows powershell 

vagrant up

(만약 오류가 발생한다면)
install.sh

<img width="455" height="147" alt="image" src="https://github.com/user-attachments/assets/ef5c3f0d-9ca5-40a3-a9ad-5f8e65e2ca17" />

한줄 추가


<img width="963" height="437" alt="image" src="https://github.com/user-attachments/assets/a2b8e2f2-184d-45b0-a928-748f96762739" />


4개가 생성된 걸 볼수 있다


#### moba X

con-1로 들어가 ping 연결 확인

<img width="700" height="668" alt="image" src="https://github.com/user-attachments/assets/52097543-8953-43e1-a3f9-071750446bec" />

삭제 vagrant destroy -f

## pyenv

pyenv는 파이썬 가상 환경를 관리할 수 있게해주는 소프트웨어입니다.

#### ubuntu

sudo apt-get update; sudo apt-get install make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev<br/>

curl https://pyenv.run | bash 

echo $HOME

vi .bashrc

>맨 아래로 내려가서<br/>
>export PYENV_ROOT="$HOME/.pyenv"<br/>
>command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"<br/>
>eval "$(pyenv init -)"<br/>
>eval "$pyenv virtualenv-init -)"<br/>

exec $SHELL (쉘 재시작)<br/>

pyenv 를 실행하여 제대로 설치된걸 확인합니다<br/>

pyenv install 3.11.6<br/>
pyenv versions 를 입력하여 버전을 확인합니다.<br/>

pyenv virtualenv 3.11.6 py3_11_6<br/>
pyenv activate py3_11_6<br/>

앞서 설치한 3.11.6버전을 활용해 가상환경을 생성합니다.<br/>


pip install django<br/>
pip install gunicorn<br/>
pip install psycopg2-binary<br/>

python<br/>
import django<br/>
import gunicorn<br/>
import psycopg2<br/>

quit<br/>













































































































