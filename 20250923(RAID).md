## Linux 파일 시스템

#### lsblk
파티션 밑에 raid 종류 확인<br/>

#### mdadm --detail /dev/md0
해당 레이드 상세 보기<br/>

#### mdadm --detail --scan
전체 레이드 보기<br/>
<br/>

메타데이터 - 레이드 구성 정보를 디스크에 담고 있는 구간<br/>
<br/>
레이드 가상 장치도 사용하기 위해 포멧-마운트 과정이 필요하다<br/>
<br/>
mkfs -t ext4 /dev/md0<br/>
<br/>
mkdir /raid0<br/>
<br/>
mount /dev/md0 /raid0<br/>
<br/>
df -h <-마운트하고 df명령으로 용량을 확인한다<br/>
*df -hT <- 많이쓴다<br/>
<img width="709" height="160" alt="Image" src="https://github.com/user-attachments/assets/93947087-34c2-4712-87c9-2e9d35fb7ad0" />

<br/>

### 레이드 별 특징
Linear - 디스크에 순차적으로 저장, 복원 기능은 별도로 없음. 최소 디스크 갯수 2, 용량 효율 100%<br/>
0 - 디스크 각각에 동시 저장 , 복원 기능은 별도로 없음, 최소 디스크 갯수 2, 용량 효율 100%-> 빠른속도<br/>
1 - 디스크 각각에 복사 저장 , 복원 기능이 존재, 최소 디스크 갯수 2, 용량 효율 50%-> 가용성 <br/>
5 - 디스크 각각에 패러티를 분배하여 저장, 필요한 경우 패러티에서 데이터를 복원 기능이 존재,최소 디스크 갯수 3, 용량 효율 66% -> 가용성, 용량을 밸런스<br/>
6 - 디스크 각각에 패러티를 2개 분배하여 저장, 필요한 경우 패러티에서 데이터를 복원 기능이 존재, 최소 디스크 갯수 4 용량 효율 50% → 가용성, 용량을 중 가용성에 중점<br/>



<br/>
#### 레이드 Linear 묶기
mdadm --create /dev/md2 --level=linear --raid-devices=2 /dev/sdb1 /dev/sdc1


#### 레이드 1 묶기
<br/>
mdadm -C /dev/md1 -l 1 -n 2 /dev/sdf1 /dev/sdg1<br/>
<br/>
xfs로 포맷<br/>
mkfs -t xfs /dev/md1<br/>

#### /raid1에 마운트
mkdir /raid1
mount /dev/md1 /raid1
<br/>

#### /raidLinear에 마운트<br/>
mkdir /raidLinear<br/>
mount /dev/md2 /raidLinear<br/>
<br/>

#### 레이드 5 묶기<br/>
mdadm --create /dev/md5 --level=5 --raid-devices=3 /dev/sdb1 /dev/sdc1 /dev/sdd1<br/>
mkfs -t xfs /dev/md5<br/>
mount /dev/md5 /raid5<br/>

#### 레이드 6 묶기
mdadm --create /dev/md6 --level=6 --raid-devices=4 /dev/sde1 /dev/sdf1 /dev/sdg1 /dev/sdh1<br/>
mkfs -t xfs /dev/md6<br/>
mount /dev/md6 /raid6<br/>
<br/>
#### 마운트를 고정적으로 수행
vi /etc/fstab<br/>
<br/>
/dev/md5 /raid5 xfs defaults 0 0<br/>
/dev/md6 /raid6 ext4 defaults 0 0<br/>
<br/>
reboot로 확인<br/>
<br/>
#### 남은 디스크로 레이드 복구
<br/>
mdadm --add /dev/md5 /dev/sde1<br/>


