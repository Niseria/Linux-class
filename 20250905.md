## FTP
<br/>
파일 서버<br/>
dnf로 설치<br/>
<br/>
*rpm -qa | grep ftp<br/>
rpm -qa(모든 패키지 출력)의 결과물에서 ftp라는 문자열을 찾아서 출력<br/>
<br/>
| 파이프 : 왼쪽의 프로세스를 오른쪽의 프로세스로 연결하는 역할<br/>
<br/>
rpm -qa vsftpd<br/>
rpm -qa ftp<br/>
dnf -y install vsftpd<br/>
<br/>
more, less<br/>
긴 출력물(문서)을 페이지 단위로 끊어서 쉘에 출력<br/>
<br/>
telnet-server → telnet.socket<br/>
openssh → sshd<br/>
vsftpd → vsftpd<br/>
<br/>
systemctl --now enable vsftpd<br/>
start + enable<br/>
<br/>
firewall-cmd --add-service=ftp<br/>
<br/>
*127.0.0.1 자기 자신을 지칭하는 주소, 루프백 주소<br/>
<br/>
FTP 클라이언트는 vsftpd가 아닌 ftp로 설치<br/>
<br/>
*touch 명령어로 빈 파일 생성<br/>
<br/>
cp로 큰 파일 가져오기<br/>
cp /boot/vmlinuz-5.14.0-570.17.1.el9_6.x86_64 .<br/>
<br/>
FileZilla 설치 후 구축한 FTP 서버에 접속<br/>
<br/><br/>

B에 작업<br/>
<br/>
yum install vsftpd -y<br/>
<br/>
rpm -q vsftpd<br/>
rpm -qa vsftpd<br/>
<br/>
systemctl --now enable vsftpd<br/>
<br/>
firewall-cmd --add-service=ftp<br/>
firewall-cmd --runtime-to-permanent<br/>
<br/>
useradd ftpserver<br/>
passwd ftpserver<br/>
<br/>
쉘 스크립트 → 리눅스 자동화
<br/>
*리눅스는 파일 확장자를 신경쓰지 않음<br/>
<br/>
파일 생성 스크립트 만들기<br/>
<br/>
touch pathandfile.sh<br/>
<br/>
#!/bin/bash → 셔뱅(shebang) : 쉘 스크립트에서 어떠한 쉘을 통해 프로그래밍 할 지 정하는 선언<br/>
<br/>
mkdir -p /home/ftpserver/test/git<br/>
mkdir -p /home/ftpserver/4gl/git<br/>
mkdir -p /home/ftpserver/nginx/http<br/>
mkdir -p /home/ftpserver/httpd/http/html<br/>
touch /home/ftpserver/test/git/mycode.py<br/>
touch /home/ftpserver/test/git/mycode.h<br/>
touch /home/ftpserver/4gl/git/mycode.c<br/>
touch /home/ftpserver/4gl/git/mycode.sh<br/>
touch /home/ftpserver/nginx/http/document.txt<br/>
touch /home/ftpserver/httpd/http/html/mydocu.html<br/>
<br/>
### 쉘 스크립트 실행(이거 자주쓸거같은 혹은 잘쓰면 좋을거같은)
sh pathandfile.sh<br/>
sh 명령어를 사용하여 실행<br/>
<br/>
B에서 이어서 진행<br/>
<br/>
vi /etc/vsftpd/vsftpd.conf<br/>
<br/>
12 anonymous_enable=YES<br/>
변경<br/>
익명 접속 허용<br/>
<br/>
*vi 저장하지 않고 나가기<br/>
:q!<br/>
<br/>
systemctl restart vsftpd<br/>
<br/>
익명 접속 시 기본 계정 및 경로<br/>
/var/ftp<br/>
pub<br/>
<br/>
vsftpd 설치 시 pub 디렉터리 생성<br/>
<br/>
pwd를 입력하여 /가 나오는 이유<br/>
외부 → FTP 익명 접속 시 최상위 디렉터리 경로를 노출하지 않고 숨겨서 보안 유지<br/>
<br/>
FTP 익명 사용자 → 리눅스의 vsftpd 데몬 → 내부적으로 처리할 때 사용하는 계정 이름 ftp(시스템 관리용 유저이므로 일반 로그인으로 사용하지 않음)
<br/><br/>
해당 계정 확인
less /etc/passwd<br/>
<br/>
/sbin/nologin - 해당 구문이 설정된 유저는 로그인이 불가능하며 시스템에서만 사용<br/>
<br/>
파일, 디렉터리에 대한 소유자 변경 명령어
chown ftp.ftp anon<br/>
<br/>
익명 사용자의 업로드, 파일, 디렉터리 생성 허용
<br/>
#anon_upload_enable=YES<br/>
익명 유저 업로드 허용 시 # 제거<br/>
<br/>
#anon_mkdir_write_enable=YES<br/>
익명 유저 디렉터리 생성 허용 시 # 제거<br/>
<br/>
systemctl stop vsftpd<br/>
systemctl start vsftpd<br/>
<br/>
*익명 삭제 권한 추가(가장 아래 쪽에 추가)
anon_other_write_enable=YES<br/>
<br/>





